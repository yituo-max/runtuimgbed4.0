# 闰土图床 (Runtu ImgBed)

一个基于HTML/CSS/JavaScript的现代化图床应用，支持图片上传、管理和分类功能，具有管理员权限控制系统。

## 项目概述

闰土图床是一个简洁而功能强大的图床应用，提供图片上传、存储、管理和分享功能。项目采用前端静态页面配合Netlify Functions后端服务的架构，实现了完整的图片管理生态系统。

## 主要功能

### 用户功能
- **图片上传**: 支持拖拽上传和点击选择文件上传
- **图片预览**: 实时预览上传的图片
- **链接生成**: 自动生成直接链接、Markdown和HTML格式的图片链接
- **图片浏览**: 图片库展示所有已上传的图片
- **分类筛选**: 按分类浏览和搜索图片

### 管理员功能
- **权限控制**: 基于JWT令牌的管理员认证系统
- **图片管理**: 查看、管理所有用户上传的图片
- **分类管理**: 添加、编辑和删除图片分类
- **系统设置**: 配置图床基本参数

## 项目结构

```
runtu_imgbed2.0/
├── index.html              # 主页面文件
├── img/                    # 图片资源
│   └── admin_bgd/         # 管理员登录页面背景图片
├── netlify/                # Netlify Functions后端服务
│   └── functions/         # 云函数目录
│       ├── admin-login.js # 管理员登录API
│       ├── auth-middleware.js # JWT认证中间件
│       ├── image.js       # 单个图片操作API
│       ├── images.js      # 图片列表API
│       ├── serve-image.js # 图片服务API
│       ├── test.js        # 测试API
│       └── upload.js      # 图片上传API
├── .env.example            # 环境变量示例
├── .gitignore             # Git忽略文件
├── netlify.toml           # Netlify配置文件
├── package.json           # 项目依赖配置
└── README.md              # 项目说明文档
```

## 技术架构

### 前端架构
- **HTML5**: 语义化标签构建页面结构
- **CSS3**: 现代化样式设计，支持响应式布局
- **JavaScript ES6+**: 原生JavaScript实现交互逻辑
- **CSS变量**: 主题色彩和样式统一管理
- **Flexbox/Grid**: 现代布局技术

### 后端架构
- **Netlify Functions**: 无服务器函数提供后端API
- **JWT认证**: 基于JSON Web Token的身份验证
- **RESTful API**: 标准REST接口设计
- **文件存储**: 基于Netlify的静态文件托管

### 数据存储
- **环境变量**: 敏感配置信息存储
- **本地存储**: 用户登录状态和令牌缓存
- **文件系统**: 图片文件直接存储在项目目录

## 实现步骤

### 1. 项目初始化
- 创建项目目录结构
- 配置Netlify Functions环境
- 设置基础HTML页面结构

### 2. 前端界面开发
- 设计并实现响应式布局
- 创建暗夜风格主题
- 实现毛玻璃效果和现代化UI
- 添加动画和过渡效果

### 3. 核心功能实现
- 实现图片上传功能（拖拽和点击上传）
- 添加图片预览和链接生成
- 创建图片库展示和管理界面
- 实现分类管理和筛选功能

### 4. 管理员系统
- 设计JWT认证机制
- 实现管理员登录界面
- 创建权限控制中间件
- 开发管理员专用功能

### 5. API接口开发
- 实现图片上传API
- 创建图片列表和管理API
- 开发认证和授权接口
- 添加图片服务和访问API

### 6. 界面优化
- 优化用户体验和交互流程
- 调整界面布局和视觉效果
- 实现响应式设计
- 添加加载状态和错误处理

## 部署说明

### 环境要求
- Node.js 14.x 或更高版本
- Netlify账号（用于部署）
- 现代浏览器支持

### 本地开发
1. 克隆项目到本地
2. 安装依赖：`npm install`
3. 启动开发服务器：`http-server . -p 8000 -o`
4. 访问 http://localhost:8000

### 生产部署
1. 将项目推送到Git仓库
2. 在Netlify中连接仓库
3. 配置环境变量
4. 部署并获取访问URL

## 配置说明

### 环境变量
创建`.env`文件并配置以下变量：
```
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123
JWT_SECRET=your-secret-key
```

### 默认管理员账号
- 用户名：admin
- 密码：admin123

## 使用指南

### 普通用户
1. 访问图床主页
2. 拖拽或点击上传图片
3. 复制生成的图片链接
4. 浏览图片库中的图片

### 管理员
1. 点击右上角"管理员登录"
2. 输入管理员账号密码
3. 登录后可管理所有图片和分类
4. 可添加、编辑和删除图片分类

## 技术特点

- **无服务器架构**: 基于Netlify Functions的无后端服务器部署
- **现代化UI**: 暗夜主题配合毛玻璃效果
- **响应式设计**: 适配各种设备和屏幕尺寸
- **安全性**: JWT令牌认证和权限控制
- **高性能**: 静态资源CDN加速
- **易扩展**: 模块化设计便于功能扩展

## 更新日志

### v2.0
- 全新的暗夜风格界面
- 管理员权限控制系统
- 图片分类管理功能
- 优化的上传体验
- 响应式布局设计

## 许可证

本项目采用MIT许可证，详见LICENSE文件。

## 贡献指南

欢迎提交Issue和Pull Request来改进项目。

## 联系方式

如有问题或建议，请通过Issue联系我们。